# FastAPI Book Management API

## Overview

This project is a RESTful API built with FastAPI Integrated on TELEX for monitoring a Postgres Database performance. It perfoms a check on the response time of each request made into the db, size of the DB,number of active connections to the DB and gets long queries that last longer than 10seconds.

## Features

-  Response time of each requests
- checks the size of the DB
- Number of active connections on the DB
- API documentation (auto-generated by FastAPI)
- CORS middleware enabled

## Project Structure

```
fastapi-book-project/
├── api/
│   ├── core/
│   │   ├── __init__.py
│   │   └── config.py      # Application settings
│   ├── db/
│   │   ├── __init__.py
│   │   └── postgres.py    # Response time checker
│   └── route/           
|       ├── __init__.py
|       ├──health.py        # API routes configuration
├── core/
│   ├── __init__.py
│   └── config.py           # Application settings
├──__init.py
├── main.py                 # Application entry point
├── requirements.txt        # Project dependencies
└── README.md
```

## Technologies Used

- Python 3.12
- FastAPI
- Pydantic
- pytest
- SQLAhemy
- uvicorn

## Installation

1. Clone the repository:

```bash
git clone https://github.com/telexintegrations/Postgres_Database_Performance_Monitor.git
cd Postgres_Database_Performa
```

2. Create a virtual environment:

```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:

```bash
pip install -r requirements.txt
```

## Running the Application

1. Start the server:

```bash
uvicorn app.main:app
```

2. Access the API documentation:

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## API Endpoints

### Books

- `GET /api/v1/health/` - Get details of postgres
- `GET /api/v1//health/postgres` - Get status of the DB
- `POST /api/v1//database_size` - Get the size of the DB
- `PUT /api/v1/active_connect` - Get the number of active connections
- `DELETE /api/v1/long_running_queries` - Get queries that takes longer than 10s to execute






